# UAT - User Acceptance Testing

## Сценарии тестирования по ролям

### 1. Гость (неавторизованный пользователь)

#### Сценарий 1.1: Просмотр публичных страниц
- [ ] Открыть `/` → должна загрузиться главная страница
- [ ] Открыть `/login` → должна загрузиться форма входа
- [ ] Открыть `/staff/login` → должна загрузиться форма входа для сотрудников

#### Сценарий 1.2: Редиректы для неавторизованных
- [ ] Открыть `/admin` → должен быть редирект на `/staff/login?next=/admin`
- [ ] Открыть `/office` → должен быть редирект на `/staff/login?next=/office`
- [ ] Открыть `/cabinet` → должен быть редирект на `/login?next=/cabinet`

### 2. Администратор (admin)

#### Сценарий 2.1: Вход в админку
- [ ] Открыть `/staff/login`
- [ ] Ввести код администратора
- [ ] После входа должен быть редирект на `/admin`
- [ ] Должен быть виден `admin-shell` и `admin-quick-actions`

#### Сценарий 2.2: Навигация по админке
- [ ] Открыть `/admin` → должен быть виден дашборд с quick actions
- [ ] Перейти на `/admin/plots` → должен быть виден реестр участков
- [ ] Перейти на `/admin/billing` → должен быть виден биллинг
- [ ] Перейти на `/admin/appeals` → должны быть видны обращения
- [ ] Перейти на `/admin/notifications/debtors` → должны быть видны должники

#### Сценарий 2.3: Доступ к офису
- [ ] Открыть `/office` → должен быть доступ (admin имеет доступ к офису)
- [ ] Должен быть виден `office-shell`

#### Сценарий 2.4: Ограничения доступа
- [ ] Открыть `/cabinet` → должен быть редирект на `/forbidden`
- [ ] На странице `/forbidden` должны быть CTA (Назад, В админку, На сайт, Выйти)

### 3. Председатель (chairman)

#### Сценарий 3.1: Вход в офис
- [ ] Открыть `/staff/login`
- [ ] Ввести логин/пароль председателя
- [ ] После входа должен быть редирект на `/office/dashboard`
- [ ] Должен быть виден `office-shell` и `office-quick-actions`

#### Сценарий 3.2: Навигация по офису
- [ ] Открыть `/office/appeals` → должны быть видны обращения
- [ ] Открыть `/office/finance` → должны быть видны финансы
- [ ] Открыть `/office/registry` → должен быть виден реестр
- [ ] Открыть `/office/announcements` → должны быть видны объявления

#### Сценарий 3.3: Ограничения доступа
- [ ] Открыть `/admin` → должен быть редирект на `/forbidden`
- [ ] Открыть `/cabinet` → должен быть редирект на `/forbidden`

### 4. Секретарь (secretary)

#### Сценарий 4.1: Вход в офис
- [ ] Открыть `/staff/login`
- [ ] Ввести логин/пароль секретаря
- [ ] После входа должен быть редирект на `/office/dashboard`
- [ ] Должен быть виден `office-shell`

#### Сценарий 4.2: Доступ к разделам
- [ ] Открыть `/office/appeals` → должен быть доступ
- [ ] Открыть `/office/announcements` → должен быть доступ
- [ ] Открыть `/office/registry` → должен быть доступ (read-only)
- [ ] Открыть `/office/finance` → должен быть доступ (view-only)

#### Сценарий 4.3: Ограничения доступа
- [ ] Открыть `/admin` → должен быть редирект на `/forbidden`
- [ ] Открыть `/cabinet` → должен быть редирект на `/forbidden`

### 5. Бухгалтер (accountant)

#### Сценарий 5.1: Вход в офис
- [ ] Открыть `/staff/login`
- [ ] Ввести логин/пароль бухгалтера
- [ ] После входа должен быть редирект на `/office/dashboard`
- [ ] Должен быть виден `office-shell`

#### Сценарий 5.2: Доступ к финансам
- [ ] Открыть `/office/finance` → должен быть доступ (manage)
- [ ] Открыть `/office/registry` → должен быть доступ (read)
- [ ] Открыть `/office/appeals` → должен быть доступ (view-only)

#### Сценарий 5.3: Ограничения доступа
- [ ] Открыть `/admin` → должен быть редирект на `/forbidden`
- [ ] Открыть `/cabinet` → должен быть редирект на `/forbidden`

### 6. Член СНТ (resident)

#### Сценарий 6.1: Вход в кабинет
- [ ] Открыть `/login`
- [ ] Ввести код доступа
- [ ] После входа должен быть редирект на `/cabinet`
- [ ] Должен быть виден кабинет жителя

#### Сценарий 6.2: Навигация по кабинету
- [ ] Открыть `/cabinet` → должен быть виден кабинет
- [ ] Проверить доступ к разделам кабинета

#### Сценарий 6.3: Ограничения доступа
- [ ] Открыть `/admin` → должен быть редирект на `/forbidden`
- [ ] Открыть `/office` → должен быть редирект на `/forbidden`

### 7. Общие проверки

#### Сценарий 7.1: Страницы ошибок
- [ ] Открыть несуществующую страницу → должна быть 404 с CTA
- [ ] Вызвать ошибку → должна быть 500 с CTA
- [ ] Открыть `/forbidden` → должны быть CTA (Назад, В админку/В офис, На сайт, Войти/Выйти)

#### Сценарий 7.2: Навигация "Назад к списку"
- [ ] Открыть любую деталку admin (например, `/admin/registry/123`)
- [ ] Должна быть кнопка "← Назад к списку"
- [ ] Кнопка должна вести на список

#### Сценарий 7.3: Quick Actions
- [ ] На `/admin` должны быть видны quick actions (реестр, импорт, должники, обращения)
- [ ] На `/office/dashboard` должны быть видны quick actions (обращения, финансы, реестр, объявления)
