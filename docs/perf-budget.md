# Performance Budget для Public Bundle

## Текущий Baseline (2025-01-XX)

### Лимиты

- **Лимит для public страниц**: 350 KB (gzip)
- **Страницы под проверкой**: `/` (главная), `/login` (вход)

### Текущие значения

> **Примечание**: Значения будут обновлены после первого успешного запуска `npm run perf:budget`

| Страница | Размер (gzip) | Размер (raw) | Статус |
|----------|---------------|--------------|--------|
| `/` | TBD | TBD | - |
| `/login` | TBD | TBD | - |

### Методология

1. **Измерение**: Используется приблизительный коэффициент сжатия gzip для JS: ~0.3
2. **Проверка**: Скрипт `scripts/check-bundle-size.mjs` парсит вывод `npm run build`
3. **Лимит**: Настраивается через переменную окружения `BUNDLE_BUDGET_KB` (по умолчанию 350 KB)

### Использование

```bash
# Проверка с дефолтным лимитом (350 KB)
npm run perf:budget

# Проверка с кастомным лимитом
BUNDLE_BUDGET_KB=300 npm run perf:budget
```

### Обновление baseline

После оптимизаций bundle, обновите этот файл с актуальными значениями:

```bash
# Запустить проверку и обновить значения в таблице выше
npm run perf:budget
```

### Рекомендации

- **Целевой размер**: < 300 KB (gzip) для каждой public страницы
- **Критический размер**: > 400 KB (gzip) требует немедленной оптимизации
- **Мониторинг**: Проверка выполняется автоматически в CI на каждом PR в `dev`

### История изменений

- **2025-01-XX**: Создан baseline, установлен лимит 350 KB (gzip)
